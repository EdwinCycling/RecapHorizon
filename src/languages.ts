export interface LanguageOption {
  name_nl: string;
  name_en: string;
  ui_code: string;
  gemini_code: string;
  bcp47_code: string;
}

export const supportedLanguages: LanguageOption[] = [
  {
    "name_nl": "Afrikaans",
    "name_en": "Afrikaans",
    "ui_code": "af",
    "gemini_code": "Afrikaans",
    "bcp47_code": "af-ZA"
  },
  {
    "name_nl": "Albanees",
    "name_en": "Albanian",
    "ui_code": "sq",
    "gemini_code": "Albanian",
    "bcp47_code": "sq-AL"
  },
  {
    "name_nl": "Amhaars",
    "name_en": "Amharic",
    "ui_code": "am",
    "gemini_code": "Amharic",
    "bcp47_code": "am-ET"
  },
  {
    "name_nl": "Arabisch",
    "name_en": "Arabic",
    "ui_code": "ar",
    "gemini_code": "Arabic",
    "bcp47_code": "ar-SA"
  },
  {
    "name_nl": "Armeens",
    "name_en": "Armenian",
    "ui_code": "hy",
    "gemini_code": "Armenian",
    "bcp47_code": "hy-AM"
  },
  {
    "name_nl": "Azerbeidzjaans",
    "name_en": "Azerbaijani",
    "ui_code": "az",
    "gemini_code": "Azerbaijani",
    "bcp47_code": "az-AZ"
  },
  {
    "name_nl": "Bengaals",
    "name_en": "Bengali",
    "ui_code": "bn",
    "gemini_code": "Bengali",
    "bcp47_code": "bn-BD"
  },
  {
    "name_nl": "Bosnisch",
    "name_en": "Bosnian",
    "ui_code": "bs",
    "gemini_code": "Bosnian",
    "bcp47_code": "bs-BA"
  },
  {
    "name_nl": "Bulgaars",
    "name_en": "Bulgarian",
    "ui_code": "bg",
    "gemini_code": "Bulgarian",
    "bcp47_code": "bg-BG"
  },
  {
    "name_nl": "Catalaans",
    "name_en": "Catalan",
    "ui_code": "ca",
    "gemini_code": "Catalan",
    "bcp47_code": "ca-ES"
  },
  {
    "name_nl": "Chinees (Vereenvoudigd)",
    "name_en": "Chinese (Simplified)",
    "ui_code": "zh",
    "gemini_code": "Chinese (Simplified)",
    "bcp47_code": "zh-CN"
  },
  {
    "name_nl": "Chinees (Traditioneel)",
    "name_en": "Chinese (Traditional)",
    "ui_code": "zh-TW",
    "gemini_code": "Chinese (Traditional)",
    "bcp47_code": "zh-TW"
  },
  {
    "name_nl": "Deens",
    "name_en": "Danish",
    "ui_code": "da",
    "gemini_code": "Danish",
    "bcp47_code": "da-DK"
  },
  {
    "name_nl": "Duits",
    "name_en": "German",
    "ui_code": "de",
    "gemini_code": "German",
    "bcp47_code": "de-DE"
  },
  {
    "name_nl": "Engels",
    "name_en": "English",
    "ui_code": "en",
    "gemini_code": "English",
    "bcp47_code": "en-US"
  },
  {
    "name_nl": "Ests",
    "name_en": "Estonian",
    "ui_code": "et",
    "gemini_code": "Estonian",
    "bcp47_code": "et-EE"
  },
  {
    "name_nl": "Filipijns",
    "name_en": "Filipino",
    "ui_code": "fil",
    "gemini_code": "Filipino",
    "bcp47_code": "fil-PH"
  },
  {
    "name_nl": "Fins",
    "name_en": "Finnish",
    "ui_code": "fi",
    "gemini_code": "Finnish",
    "bcp47_code": "fi-FI"
  },
  {
    "name_nl": "Frans",
    "name_en": "French",
    "ui_code": "fr",
    "gemini_code": "French",
    "bcp47_code": "fr-FR"
  },
  {
    "name_nl": "Georgisch",
    "name_en": "Georgian",
    "ui_code": "ka",
    "gemini_code": "Georgian",
    "bcp47_code": "ka-GE"
  },
  {
    "name_nl": "Grieks",
    "name_en": "Greek",
    "ui_code": "el",
    "gemini_code": "Greek",
    "bcp47_code": "el-GR"
  },
  {
    "name_nl": "Hebreeuws",
    "name_en": "Hebrew",
    "ui_code": "he",
    "gemini_code": "Hebrew",
    "bcp47_code": "he-IL"
  },
  {
    "name_nl": "Hindi",
    "name_en": "Hindi",
    "ui_code": "hi",
    "gemini_code": "Hindi",
    "bcp47_code": "hi-IN"
  },
  {
    "name_nl": "Hongaars",
    "name_en": "Hungarian",
    "ui_code": "hu",
    "gemini_code": "Hungarian",
    "bcp47_code": "hu-HU"
  },
  {
    "name_nl": "IJslands",
    "name_en": "Icelandic",
    "ui_code": "is",
    "gemini_code": "Icelandic",
    "bcp47_code": "is-IS"
  },
  {
    "name_nl": "Indonesisch",
    "name_en": "Indonesian",
    "ui_code": "id",
    "gemini_code": "Indonesian",
    "bcp47_code": "id-ID"
  },
  {
    "name_nl": "Italiaans",
    "name_en": "Italian",
    "ui_code": "it",
    "gemini_code": "Italian",
    "bcp47_code": "it-IT"
  },
  {
    "name_nl": "Japans",
    "name_en": "Japanese",
    "ui_code": "ja",
    "gemini_code": "Japanese",
    "bcp47_code": "ja-JP"
  },
  {
    "name_nl": "Kannada",
    "name_en": "Kannada",
    "ui_code": "kn",
    "gemini_code": "Kannada",
    "bcp47_code": "kn-IN"
  },
  {
    "name_nl": "Kazachs",
    "name_en": "Kazakh",
    "ui_code": "kk",
    "gemini_code": "Kazakh",
    "bcp47_code": "kk-KZ"
  },
  {
    "name_nl": "Koreaans",
    "name_en": "Korean",
    "ui_code": "ko",
    "gemini_code": "Korean",
    "bcp47_code": "ko-KR"
  },
  {
    "name_nl": "Kroatisch",
    "name_en": "Croatian",
    "ui_code": "hr",
    "gemini_code": "Croatian",
    "bcp47_code": "hr-HR"
  },
  {
    "name_nl": "Lets",
    "name_en": "Latvian",
    "ui_code": "lv",
    "gemini_code": "Latvian",
    "bcp47_code": "lv-LV"
  },
  {
    "name_nl": "Litouws",
    "name_en": "Lithuanian",
    "ui_code": "lt",
    "gemini_code": "Lithuanian",
    "bcp47_code": "lt-LT"
  },
  {
    "name_nl": "Macedonisch",
    "name_en": "Macedonian",
    "ui_code": "mk",
    "gemini_code": "Macedonian",
    "bcp47_code": "mk-MK"
  },
  {
    "name_nl": "Maleis",
    "name_en": "Malay",
    "ui_code": "ms",
    "gemini_code": "Malay",
    "bcp47_code": "ms-MY"
  },
  {
    "name_nl": "Malayalam",
    "name_en": "Malayalam",
    "ui_code": "ml",
    "gemini_code": "Malayalam",
    "bcp47_code": "ml-IN"
  },
  {
    "name_nl": "Marathi",
    "name_en": "Marathi",
    "ui_code": "mr",
    "gemini_code": "Marathi",
    "bcp47_code": "mr-IN"
  },
  {
    "name_nl": "Nederlands",
    "name_en": "Dutch",
    "ui_code": "nl",
    "gemini_code": "Dutch",
    "bcp47_code": "nl-NL"
  },
  {
    "name_nl": "Noors",
    "name_en": "Norwegian",
    "ui_code": "no",
    "gemini_code": "Norwegian",
    "bcp47_code": "no-NO"
  },
  {
    "name_nl": "Perzisch",
    "name_en": "Persian",
    "ui_code": "fa",
    "gemini_code": "Persian",
    "bcp47_code": "fa-IR"
  },
  {
    "name_nl": "Pools",
    "name_en": "Polish",
    "ui_code": "pl",
    "gemini_code": "Polish",
    "bcp47_code": "pl-PL"
  },
  {
    "name_nl": "Portugees",
    "name_en": "Portuguese",
    "ui_code": "pt",
    "gemini_code": "Portuguese",
    "bcp47_code": "pt-BR"
  },
  {
    "name_nl": "Roemeens",
    "name_en": "Romanian",
    "ui_code": "ro",
    "gemini_code": "Romanian",
    "bcp47_code": "ro-RO"
  },
  {
    "name_nl": "Russisch",
    "name_en": "Russian",
    "ui_code": "ru",
    "gemini_code": "Russian",
    "bcp47_code": "ru-RU"
  },
  {
    "name_nl": "Servisch",
    "name_en": "Serbian",
    "ui_code": "sr",
    "gemini_code": "Serbian",
    "bcp47_code": "sr-RS"
  },
  {
    "name_nl": "Singalees",
    "name_en": "Sinhala",
    "ui_code": "si",
    "gemini_code": "Sinhala",
    "bcp47_code": "si-LK"
  },
  {
    "name_nl": "Sloveens",
    "name_en": "Slovenian",
    "ui_code": "sl",
    "gemini_code": "Slovenian",
    "bcp47_code": "sl-SI"
  },
  {
    "name_nl": "Slowaaks",
    "name_en": "Slovak",
    "ui_code": "sk",
    "gemini_code": "Slovak",
    "bcp47_code": "sk-SK"
  },
  {
    "name_nl": "Spaans",
    "name_en": "Spanish",
    "ui_code": "es",
    "gemini_code": "Spanish",
    "bcp47_code": "es-ES"
  },
  {
    "name_nl": "Swahili",
    "name_en": "Swahili",
    "ui_code": "sw",
    "gemini_code": "Swahili",
    "bcp47_code": "sw-KE"
  },
  {
    "name_nl": "Zweeds",
    "name_en": "Swedish",
    "ui_code": "sv",
    "gemini_code": "Swedish",
    "bcp47_code": "sv-SE"
  },
  {
    "name_nl": "Tamil",
    "name_en": "Tamil",
    "ui_code": "ta",
    "gemini_code": "Tamil",
    "bcp47_code": "ta-IN"
  },
  {
    "name_nl": "Telugu",
    "name_en": "Telugu",
    "ui_code": "te",
    "gemini_code": "Telugu",
    "bcp47_code": "te-IN"
  },
  {
    "name_nl": "Thai",
    "name_en": "Thai",
    "ui_code": "th",
    "gemini_code": "Thai",
    "bcp47_code": "th-TH"
  },
  {
    "name_nl": "Tsjechisch",
    "name_en": "Czech",
    "ui_code": "cs",
    "gemini_code": "Czech",
    "bcp47_code": "cs-CZ"
  },
  {
    "name_nl": "Turks",
    "name_en": "Turkish",
    "ui_code": "tr",
    "gemini_code": "Turkish",
    "bcp47_code": "tr-TR"
  },
  {
    "name_nl": "OekraÃ¯ens",
    "name_en": "Ukrainian",
    "ui_code": "uk",
    "gemini_code": "Ukrainian",
    "bcp47_code": "uk-UA"
  },
  {
    "name_nl": "Urdu",
    "name_en": "Urdu",
    "ui_code": "ur",
    "gemini_code": "Urdu",
    "bcp47_code": "ur-PK"
  },
  {
    "name_nl": "Vietnamees",
    "name_en": "Vietnamese",
    "ui_code": "vi",
    "gemini_code": "Vietnamese",
    "bcp47_code": "vi-VN"
  },
  {
    "name_nl": "Zulu",
    "name_en": "Zulu",
    "ui_code": "zu",
    "gemini_code": "Zulu",
    "bcp47_code": "zu-ZA"
  }
];

// Helper functions
export const getLanguageByCode = (code: string): LanguageOption | undefined => {
  return supportedLanguages.find(lang => lang.ui_code === code);
};

export const getLanguageName = (code: string, appLanguage: string): string => {
  const lang = getLanguageByCode(code);
  if (!lang) return code;
  
  // For Dutch customers show name_nl, for other app languages show name_en
  if (appLanguage === 'nl') {
    return lang.name_nl;
  }
  return lang.name_en;
};

export const getGeminiCode = (code: string): string => {
  const lang = getLanguageByCode(code);
  return lang ? lang.gemini_code : code;
};

export const getBcp47Code = (code: string): string => {
  const lang = getLanguageByCode(code);
  return lang ? lang.bcp47_code : code;
};

export const getTotalLanguageCount = (): number => {
  return supportedLanguages.length;
};

export const getFlagEmoji = (code: string): string => {
  const map: Record<string, string> = {
    nl: 'NL',
    en: 'GB',
    de: 'DE',
    fr: 'FR',
    es: 'ES',
    pt: 'PT',
    it: 'IT',
    pl: 'PL',
    sv: 'SE',
    da: 'DK',
    fi: 'FI',
    no: 'NO',
    tr: 'TR',
    ru: 'RU',
    zh: 'CN',
    'zh-TW': 'TW',
    ja: 'JP',
    ko: 'KR',
    ar: 'SA',
    he: 'IL',
    hi: 'IN',
  };

  const toFlag = (cc: string) =>
    String.fromCodePoint(
      ...cc
        .toUpperCase()
        .slice(0, 2)
        .split('')
        .map((c) => 127397 + c.charCodeAt(0))
    );

  const key = code.toLowerCase();
  if (map[key]) return toFlag(map[key]);

  // Try to infer from BCP-47 region if available
  const lang = getLanguageByCode(code);
  if (lang && lang.bcp47_code) {
    const parts = lang.bcp47_code.split('-');
    const region = parts[1];
    if (region && region.length === 2) return toFlag(region);
  }

  return 'ð';
};
